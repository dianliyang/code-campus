INSERT INTO public.app_runtime_config (key, value, updated_at)
VALUES (
  'prompt.syllabusRetrieve',
  '"Search for the official course syllabus for {{course_code}} at {{university}} (course title: {{title}}).\n{{resources}}\nFind the most recent semester''s syllabus page or PDF.\nExtract and return ONLY valid JSON with this exact structure:\n{\n  \"source_url\": \"string or null\",\n  \"content\": {\n    \"objectives\": [\"string\"],\n    \"grading\": [{\"component\": \"string\", \"weight\": 0}],\n    \"textbooks\": [\"string\"],\n    \"policies\": \"string\"\n  },\n  \"schedule\": [\n    {\n      \"sequence\": \"Lecture 1 or Week 1 — the sequence label only, not the title\",\n      \"title\": \"The lecture or week title e.g. Why Parallelism? — null if not present\",\n      \"date\": \"YYYY-MM-DD or null\",\n      \"date_end\": \"YYYY-MM-DD or null\",\n      \"instructor\": \"string or null\",\n      \"topics\": [\"string\"],\n      \"description\": \"string or null\",\n      \"slides\": [{\"label\": \"string\", \"url\": \"string or null\"}],\n      \"videos\": [{\"label\": \"string\", \"url\": \"string or null\"}],\n      \"readings\": [{\"label\": \"string\", \"url\": \"string or null\"}],\n      \"modules\": [{\"label\": \"string\", \"url\": \"string or null\"}],\n      \"assignments\": [{\"label\": \"string\", \"due_date\": \"YYYY-MM-DD or null\"}],\n      \"labs\": [{\"label\": \"string\", \"due_date\": \"YYYY-MM-DD or null\"}],\n      \"exams\": [{\"label\": \"string\", \"due_date\": \"YYYY-MM-DD or null\"}],\n      \"projects\": [{\"label\": \"string\", \"due_date\": \"YYYY-MM-DD or null\"}]\n    }\n  ]\n}\nOmit empty arrays. Omit null fields. Return only the JSON, no explanation."',
  now()
)
ON CONFLICT (key) DO UPDATE SET value = EXCLUDED.value, updated_at = now();
